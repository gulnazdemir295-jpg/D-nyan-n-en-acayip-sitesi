<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uluslararası Sipariş Takibi - Müşteriler Paneli</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000000;
            color: #ff0000;
            margin: 0;
            padding: 0;
        }
        .sidebar {
            float: left;
            width: 200px;
            padding: 20px;
            background-color: #ffffff;
            color: #000000;
            border-right: 1px solid #ff0000;
            height: 100vh;
        }
        .sidebar h3 {
            color: #ff0000;
        }
        .sidebar .button {
            display: block;
            background-color: #ff0000;
            color: #ffffff;
            padding: 10px;
            margin: 10px 0;
            text-decoration: none;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
        }
        .sidebar .button:hover {
            background-color: #cc0000;
        }
        .main {
            margin-left: 240px;
            padding: 50px;
            text-align: center;
        }
        h1 {
            font-style: italic;
        }
        .button {
            display: inline-block;
            background-color: #ff0000;
            color: #ffffff;
            padding: 15px 30px;
            margin: 10px;
            text-decoration: none;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
        }
        .button:hover {
            background-color: #cc0000;
        }
        .section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ff0000;
            border-radius: 5px;
            background-color: #ffffff;
            color: #000000;
            text-align: left;
        }
        .order-item {
            border: 1px solid #ff0000;
            padding: 10px;
            margin: 10px 0;
            background-color: #f8f9fa;
        }
        .status-pending { color: #ff6600; }
        .status-processing { color: #0066ff; }
        .status-shipped { color: #009900; }
        .status-delivered { color: #009900; }
        .status-cancelled { color: #ff0000; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3>Müşteri Paneli</h3>
        <a href="musteriler-panel.html" class="button">Geri Dön</a>
        <a href="#activeOrders" class="button">Aktif Siparişler</a>
        <a href="#orderHistory" class="button">Sipariş Geçmişi</a>
        <a href="#returns" class="button">İadeler</a>
    </div>
    <div class="main">
        <h1><i>Uluslararası Sipariş Takibi</i></h1>
        <p>Uluslararası siparişlerinizi buradan takip edin.</p>

        <div id="activeOrders" class="section">
            <h2>Aktif Siparişler</h2>
            <div id="activeOrdersList">
                <!-- Active orders will be loaded here -->
            </div>
        </div>

        <div id="orderHistory" class="section">
            <h2>Sipariş Geçmişi</h2>
            <div id="orderHistoryList">
                <!-- Order history will be loaded here -->
            </div>
        </div>

        <div id="returns" class="section">
            <h2>İade Talepleri</h2>
            <div id="returnsList">
                <!-- Returns will be loaded here -->
            </div>
        </div>

        <a href="musteriler-panel.html" class="button">Müşteriler Paneli</a>
        <a href="admin-panel.html" class="button">Admin Paneli</a>
    </div>

    <script>
        function loadActiveOrders() {
            const orders = JSON.parse(localStorage.getItem('internationalCustomerOrders')) || [
                { id: 1, product: 'Almanya\'dan Teknoloji Ürünü', seller: 'German Tech', country: 'Germany', status: 'processing', date: '2024-01-15', tracking: 'DE123456789' },
                { id: 2, product: 'Çin\'den Moda Ürünü', seller: 'Chinese Fashion', country: 'China', status: 'shipped', date: '2024-01-10', tracking: 'CN987654321' }
            ];

            const container = document.getElementById('activeOrdersList');
            container.innerHTML = '';

            orders.forEach(order => {
                if (order.status !== 'delivered' && order.status !== 'cancelled') {
                    const item = document.createElement('div');
                    item.className = 'order-item';
                    item.innerHTML = `
                        <h3>${order.product}</h3>
                        <p>Satıcı: ${order.seller} (${order.country})</p>
                        <p>Durum: <span class="status-${order.status}">${getStatusText(order.status)}</span></p>
                        <p>Tarih: ${new Date(order.date).toLocaleDateString('tr-TR')}</p>
                        <p>Takip No: ${order.tracking}</p>
                        <button class="button" onclick="viewOrderDetails(${order.id})">Detaylar</button>
                    `;
                    container.appendChild(item);
                }
            });
        }

        function loadOrderHistory() {
            const orders = JSON.parse(localStorage.getItem('internationalCustomerOrders')) || [
                { id: 3, product: 'İtalya\'dan Gıda Ürünü', seller: 'Italian Food', country: 'Italy', status: 'delivered', date: '2024-01-05', tracking: 'IT456789123' },
                { id: 4, product: 'Fransa\'dan Kozmetik', seller: 'French Beauty', country: 'France', status: 'delivered', date: '2023-12-20', tracking: 'FR789123456' }
            ];

            const container = document.getElementById('orderHistoryList');
            container.innerHTML = '';

            orders.forEach(order => {
                if (order.status === 'delivered' || order.status === 'cancelled') {
                    const item = document.createElement('div');
                    item.className = 'order-item';
                    item.innerHTML = `
                        <h3>${order.product}</h3>
                        <p>Satıcı: ${order.seller} (${order.country})</p>
                        <p>Durum: <span class="status-${order.status}">${getStatusText(order.status)}</span></p>
                        <p>Tarih: ${new Date(order.date).toLocaleDateString('tr-TR')}</p>
                        <p>Takip No: ${order.tracking}</p>
                        <button class="button" onclick="viewOrderDetails(${order.id})">Detaylar</button>
                    `;
                    container.appendChild(item);
                }
            });
        }

        function loadReturns() {
            const returns = JSON.parse(localStorage.getItem('internationalReturns')) || [
                { id: 1, orderId: 3, product: 'İtalya\'dan Gıda Ürünü', reason: 'Hasarlı ürün', status: 'processing', date: '2024-01-08' }
            ];

            const container = document.getElementById('returnsList');
            container.innerHTML = '';

            returns.forEach(ret => {
                const item = document.createElement('div');
                item.className = 'order-item';
                item.innerHTML = `
                    <h3>İade Talebi #${ret.id}</h3>
                    <p>Ürün: ${ret.product}</p>
                    <p>Sebep: ${ret.reason}</p>
                    <p>Durum: <span class="status-${ret.status}">${getStatusText(ret.status)}</span></p>
                    <p>Tarih: ${new Date(ret.date).toLocaleDateString('tr-TR')}</p>
                `;
                container.appendChild(item);
            });
        }

        function getStatusText(status) {
            const statuses = {
                pending: 'Bekliyor',
                processing: 'İşleniyor',
                shipped: 'Gönderildi',
                delivered: 'Teslim Edildi',
                cancelled: 'İptal Edildi'
            };
            return statuses[status] || status;
        }

        function viewOrderDetails(orderId) {
            alert(`Sipariş #${orderId} detayları görüntüleniyor.`);
        }

        loadActiveOrders();
        loadOrderHistory();
        loadReturns();
    </script>
</body>
</html>
