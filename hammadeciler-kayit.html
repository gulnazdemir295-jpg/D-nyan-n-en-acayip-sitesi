<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hammadeciler Üye Kaydı - Dünyanın En Acayip Sitesi</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            color: #ff0000;
            text-align: center;
            padding: 50px;
        }
        h1 {
            font-style: italic;
        }
        form {
            display: inline-block;
            text-align: left;
            margin: 20px 0;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
        }
        .button {
            display: inline-block;
            background-color: #ff0000;
            color: #ffffff;
            padding: 10px 20px;
            margin: 10px;
            text-decoration: none;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        .button:hover {
            background-color: #cc0000;
        }
    </style>
</head>
<body>
    <h1><i>Hammadeciler Üye Kaydı</i></h1>
    <form id="registrationForm">
        <label>Ad Soyad: <input type="text" id="name" required></label>
        <label>E-posta: <input type="email" id="email" required></label>
        <label>Telefon: <input type="tel" id="phone" required></label>
        <label>Şirket Adı: <input type="text" id="company" required></label>
        <label>Vergi Numarası: <input type="text" id="taxNumber" required></label>
        <label>Adres: <textarea id="address" required></textarea></label>
        <label>Şehir: <input type="text" id="city" required></label>
        <label>İlçe: <input type="text" id="district" required></label>
        <label>Bölge: <input type="text" id="region" required></label>
        <label>Kimlik Fotokopisi: <input type="file" id="idCopy" accept="image/*" required></label>
        <label>Vergi Levhası: <input type="file" id="taxCertificate" accept="image/*" required></label>
        <label>İmza Sirküleri: <input type="file" id="signatureCircular" accept="image/*" required></label>
        <button type="submit" class="button">Kaydet</button>
    </form>
    <a href="index.html" class="button">Ana Sayfa</a>

    <script>
        document.getElementById('registrationForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const company = document.getElementById('company').value;
            const taxNumber = document.getElementById('taxNumber').value;
            const address = document.getElementById('address').value;
            const city = document.getElementById('city').value;
            const district = document.getElementById('district').value;
            const region = document.getElementById('region').value;
            const idCopy = document.getElementById('idCopy').files[0];
            const taxCertificate = document.getElementById('taxCertificate').files[0];
            const signatureCircular = document.getElementById('signatureCircular').files[0];

            const application = {
                panel: 'hammadeciler',
                name: name,
                email: email,
                phone: phone,
                company: company,
                taxNumber: taxNumber,
                address: address,
                city: city,
                district: district,
                region: region,
                idCopy: '',
                taxCertificate: '',
                signatureCircular: '',
                status: 'pending',
                submittedAt: new Date().toISOString()
            };

            // Handle file uploads
            const files = [idCopy, taxCertificate, signatureCircular];
            const fileKeys = ['idCopy', 'taxCertificate', 'signatureCircular'];
            let processed = 0;

            files.forEach((file, index) => {
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        application[fileKeys[index]] = e.target.result;
                        processed++;
                        if (processed === files.length) {
                            saveApplication(application);
                        }
                    };
                    reader.readAsDataURL(file);
                } else {
                    processed++;
                    if (processed === files.length) {
                        saveApplication(application);
                    }
                }
            });
        });

        function saveApplication(application) {
            const applications = JSON.parse(localStorage.getItem('pending-applications')) || [];
            applications.push(application);
            localStorage.setItem('pending-applications', JSON.stringify(applications));
            alert('Başvurunuz alınmıştır. Teşekkürler! Sizinle 24 saat içinde iletişime geçilecektir.');
            document.getElementById('registrationForm').reset();
        }
    </script>
</body>
</html>
